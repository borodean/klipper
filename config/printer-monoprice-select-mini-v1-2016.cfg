[mcu]
serial: /dev/ttyACM0
restart_method: command

[printer]
kinematics: cartesian
max_velocity: 150
max_accel: 800
max_z_velocity: 1.5
max_z_accel: 20

[stepper_x]
step_pin: PB14
dir_pin: !PB15 # modify stepper direction if necessary
enable_pin: !PA8
rotation_distance: 34.51 # 17 teeth on pulley; MXL belt (2.03 pitch)
microsteps: 16
endstop_pin: ^!PB4
position_endstop: 0
position_max: 120 # default bed width
homing_speed: 15

[stepper_y]
step_pin: PB12
dir_pin: PB13 # modify stepper direction if necessary
enable_pin: !PA8
rotation_distance: 34.51 # check comment in [stepper_x] section
microsteps: 16
endstop_pin: ^!PA15
position_endstop: 0
position_max: 120 # default bed length
homing_speed: 15

[stepper_z]
step_pin: PB10
dir_pin: PB2 # modify stepper direction if necessary
enable_pin: !PB11
rotation_distance: 0.7 # M4 rod.  check comment in [stepper_x] section
microsteps: 16
full_steps_per_rotation: 48
endstop_pin: ^!PB5
position_endstop: 0.5
position_max: 120 # default height
homing_speed: 10

[extruder]
step_pin: PB0
dir_pin: !PC13 # modify stepper direction if necessary
enable_pin: !PB1
microsteps: 16
rotation_distance: 32.99 # 97 steps/mm. check comment in [stepper_x] section
nozzle_diameter: 0.4
filament_diameter: 1.75
max_extrude_only_distance: 425 # for (un-)loading
heater_pin: PB6
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA0
control: pid
pid_Kp: 20
pid_Ki: 0.02
pid_Kd: 250
min_temp: 0
max_temp: 250

[heater_bed]
heater_pin: PB7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA1
control: pid
min_temp: 0
max_temp: 85
pid_Kp: 70
pid_Ki: 1.5
pid_Kd: 812

[bed_screws]
screw1: 22, 10
screw2: 22, 90
screw3: 98, 90
screw4: 98, 10

[heater_fan hotend_fan]
pin: PB8
heater_temp: 45
