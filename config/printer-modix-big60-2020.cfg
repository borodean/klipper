[tmc2660 stepper_y]
cs_pin: PC9
spi_speed: 2000000
spi_bus: usart1
run_current: 1.2
sense_resistor: 0.051

[tmc2660 stepper_z]
cs_pin: PC10
spi_speed: 2000000
spi_bus: usart1
run_current: 2.4
sense_resistor: 0.051

[tmc2660 extruder]
cs_pin: PC17
spi_speed: 2000000
spi_bus: usart1
run_current: 1.2
sense_resistor: 0.051

[tmc2660 extruder1]
cs_pin: PC25
spi_speed: 2000000
spi_bus: usart1
run_current: 1.2
sense_resistor: 0.051

[mcu]
serial: /dev/serial/by-id/usb-Klipper_sam4e8e_1234567890-if00

[printer]
kinematics: cartesian
max_velocity: 160
max_accel: 1000
max_z_velocity: 6
max_z_accel: 120

[stepper_x]
step_pin: PD6
dir_pin: PD11
enable_pin: !PC6
rotation_distance: 32
microsteps: 256
endstop_pin: ^PC14
position_endstop: 0
position_max: 600
homing_speed: 50
second_homing_speed: 2

[stepper_y]
step_pin: PD7
dir_pin: !PD12
enable_pin: !PC6
rotation_distance: 32
microsteps: 256
endstop_pin: ^PA2
position_endstop: 600
position_max: 600
homing_speed: 50
second_homing_speed: 2
homing_positive_dir: True

[stepper_z]
step_pin: PD8
dir_pin: !PD13
enable_pin: !PC6
rotation_distance: 1.6
microsteps: 256
endstop_pin: probe:z_virtual_endstop
position_min: -5
position_max: 660
homing_speed: 2.5
second_homing_speed: 1

[extruder]
spi_bus: usart0
rtd_nominal_r: 100
rtd_reference_r: 400
rtd_num_of_wires: 2
rtd_use_50Hz_filter: True
step_pin: PD5
dir_pin: PA1
enable_pin: !PC6
microsteps: 256
rotation_distance: 22.9344
gear_ratio: 66:22
nozzle_diameter: 0.4
filament_diameter: 1.75
heater_pin: !PA20
sensor_type: MAX31865
sensor_pin: PB2
control: pid
pid_Kp: 22.2
pid_Ki: 1.08
pid_Kd: 114
min_temp: 0
max_temp: 400

[bed_mesh]
speed: 200
mesh_min: 25, 25
mesh_max: 595, 585
probe_count: 11, 11
fade_start: 0.5
fade_end: 2.5
mesh_pps: 2,2
algorithm: bicubic
bicubic_tension: 0.15

[bed_screws]
screw1: 0,0
screw2: 600,0
screw3: 600,600
screw4: 0,600
screw1_name: Front Left
screw2_name: Front Right
screw3_name: Rear Right
screw4_name: Rear Left
speed: 100

[safe_z_home]
home_xy_position: 310,305
speed: 100
z_hop: 10
z_hop_speed: 5
move_to_previous: True

[gcode_macro T0]
gcode:
  ACTIVATE_EXTRUDER EXTRUDER=extruder
  SET_GCODE_OFFSET Y=0

[gcode_macro T1]
gcode:
  ACTIVATE_EXTRUDER EXTRUDER=extruder1
  SET_GCODE_OFFSET Y=-51.5

[gcode_macro PAUSE_PARK]
gcode:
  G91
  G0 Z5 F120
  G90
  G0 X50 Y50 F3000

[pause_resume]

[gcode_arcs]
resolution: 0.1

[bltouch]
sensor_pin: PC1
control_pin: PC3
x_offset: -14
y_offset: 21
z_offset: 2
speed: 1
lift_speed: 5

[extruder1]
enable_pin: !PC6
microsteps: 256
rotation_distance: 22.9344
gear_ratio: 66:22
nozzle_diameter: 0.4
filament_diameter: 1.75
heater_pin: !PA16
sensor_type: MAX31865
spi_bus: usart0
sensor_pin: PC18
rtd_nominal_r: 100
rtd_reference_r: 400
rtd_num_of_wires: 2
rtd_use_50Hz_filter: True
control: pid
pid_Kp: 22.2
pid_Ki: 1.08
pid_Kd: 114
min_temp: 0
max_temp: 400
step_pin: PD4
dir_pin: !PD9

[fan]
pin: PC23

[tmc2660 stepper_x]
cs_pin: PD14
spi_speed: 2000000
spi_bus: usart1
run_current: 1.6
sense_resistor: 0.051

[filament_switch_sensor e0_sensor]
runout_gcode: PAUSE_PARK
switch_pin: PD10

[filament_switch_sensor e1_sensor]
runout_gcode: PAUSE_PARK
switch_pin: PC16
