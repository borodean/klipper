[led LED_Light]
white_pin: PC2
initial_WHITE: 1

[neopixel hotend_neopixel]
pin: PD2
color_order: GRB
initial_RED: 1
initial_GREEN: 1
initial_BLUE: 1

[mcu]
serial: /dev/ttyACM0
restart_method: command

[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 3000
max_z_velocity: 15
max_z_accel: 100

[stepper_x]
step_pin: PA8
dir_pin: PC9
enable_pin: !PA15
rotation_distance: 40
microsteps: 16
endstop_pin: !PB9
position_endstop: 0
position_max: 315
homing_speed: 50

[stepper_y]
step_pin: PC7
dir_pin: !PC6
enable_pin: !PC8
rotation_distance: 40
microsteps: 16
endstop_pin: !PB8
position_endstop: 0
position_max: 315
homing_speed: 50

[stepper_z]
step_pin: PB10
dir_pin: !PA4
enable_pin: !PC4
rotation_distance: 8
microsteps: 16
endstop_pin: probe:z_virtual_endstop # Use Z- as endstop
position_min: -1
position_max: 400
# homing_speed: 10

[extruder]
# calibrate e-steps https: //www.klipper3d.org/Rotation_Distance.html#calibrating-rotation_distance-on-extruders
# calibrate pid: https://www.klipper3d.org/Config_checks.html#calibrate-pid-settings
# - example: PID_CALIBRATE HEATER=extruder TARGET=200
# calibrate pa: https://www.klipper3d.org/Pressure_Advance.html
step_pin: PC11
dir_pin: !PC10
enable_pin: !PC12
microsteps: 64
rotation_distance: 17.75
nozzle_diameter: 0.4
filament_diameter: 1.75
max_extrude_only_distance: 100
heater_pin: PA6
sensor_type: EPCOS 100K B57560G104F # Generic 3950
sensor_pin: PC5
control: pid
pid_Kp: 30.356
pid_Ki: 1.857
pid_Kd: 124.081
min_temp: 0
max_temp: 300

[heater_bed]
# calibrate pid: https://www.klipper3d.org/Config_checks.html#calibrate-pid-settings
# - example: PID_CALIBRATE HEATER=heater_bed TARGET=60
heater_pin: PA7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PC0
control: pid
min_temp: 0
max_temp: 100
pid_Kp: 64.23
pid_Ki: 0.723
pid_Kd: 1425.905

[bed_mesh]
speed: 300
horizontal_move_z: 6
mesh_min: 46,15
mesh_max: 300,300
probe_count: 10, 10
algorithm: bicubic

[screws_tilt_adjust]
screw3: 210, 45
screw3_name: front right
screw4: 227, 145
screw4_name: right center
screw5: 210, 245
screw5_name: rear right
screw6: 7, 245
screw6_name: rear left
screw7: 7, 145
screw7_name: left center
screw1: 120, 153
screw1_name: center reference
screw2: 7, 45
screw2_name: front left
speed: 300
horizontal_move_z: 8
screw_thread: CW-M4

[safe_z_home]
home_xy_position: 110, 145 # X, Y coordinate (e.g. 100, 100) where the Z homing should be
speed: 300
z_hop: 10

[probe]
pin: PC14
x_offset: 45.2
y_offset: 11.6
z_offset: 2.35
lift_speed: 15

[fan]
pin: PB0

[heater_fan hotend_fan]
pin: PB1

[temperature_fan Artillery_MCU]
pin: PA5
shutdown_speed: 0
kick_start_time: 0.5
off_below: 0.19
sensor_type: temperature_mcu
control: watermark
min_temp: 0
max_temp: 60
min_speed: 0

[filament_switch_sensor filament_sensor]
switch_pin: PC1
